def file_error_check(e):
    #Гиренко: функція для обробки виключних ситуацій при роботі з файлами, що виводить повідомлення у разі помилки при роботі з файлами
    if isinstance(e, FileNotFoundError):
        print("Помилка: файл не знайдено.")
    elif isinstance(e, PermissionError):
        print("Помилка: немає прав для доступу до файлу.")
    elif isinstance(e, IOError):
        print("Помилка вводу/виводу при роботі з файлом.")
    else:
        print(f"Невідома помилка: {e}")

def file_create_and_answer1():
    #Гиренко: функція створює новий файл, з яким будуть працювати всі наступні члени команди, та записує питання для наступного студента
    try:
        #створюємо новий файл для роботи з можливістю редагування та підтримкою кирилиці
        with open("team_file.txt", "w", encoding="utf-8") as file:
            file.write("Студент 1: Гиренко Ілля\n")
            file.write("1. Чому при роботі з файлами в Python критично важливо використовувати блоки try...except?\n\n")
        print("Студент 1: Файл створено та записано питання.")
    except Exception as e:
        # При виникненні помилки викликаємо наш обробник 'file_error_check'
        file_error_check(e)

def file_answer_and_question2():
    #Репін: функція відкриває існуючий файл, додає відповідь на запитання попереднього студента
    #та записує нове запитання для наступного учасника команди
    try:
        #відкриваємо файл у режимі доповнення, щоб не перезаписати попередні дані
        with open("team_file.txt", "a", encoding="utf-8") as file:
            #додаємо відповідь на запитання Гиренко
            file.write("Відповідь студента 2 (Репін Данііл):\n")
            file.write("Використання блоків try...except дозволяє обробляти можливі помилки під час роботи з файлами.\n")
            file.write("Це запобігає аварійному завершенню програми і дає змогу вивести зрозуміле повідомлення про помилку.\n\n")
            file.write("2. Які режими відкриття файлів існують у Python і чим вони відрізняються?\n\n")
        print("Студент 2: Відповідь записано та додано нове питання.")
    except Exception as e:
        #при виникненні будь-якої помилки передаємо її у функцію обробки помилок
        file_error_check(e)

def file_answer_and_question3():
    #Спічаков: функція додає відповідь на запитання студента 2
    #та створює нове запитання для наступного учасника команди
    try:
        #відкриваємо файл у режимі дописування ('a'), щоб зберегти вже наявну інформацію
        with open("team_file.txt", "a", encoding="utf-8") as file:
            #додаємо відповідь на питання студента 2 (Репіна)
            file.write("Відповідь студента 3 (Спічаков Павло):\n")
            file.write("У Python існують такі основні режими відкриття файлів:\n")
            file.write(" - 'r' — читання (файл має існувати);\n")
            file.write(" - 'w' — запис (створює новий файл або перезаписує існуючий);\n")
            file.write(" - 'a' — дописування (інформація додається в кінець файлу);\n")
            file.write(" - 'x' — створення нового файлу (викликає помилку, якщо файл вже існує);\n")
            file.write(" - '+' — дозволяє як читання, так і запис.\n\n")
            #ставимо нове питання для наступного учасника
            file.write("3. Які існують основні методи читання даних із файлу в мові програмування Python?\n\n")
        print("Студент 3: Відповідь записано та додано нове питання.")
    except Exception as e:
        #у разі помилки передаємо її у функцію обробки
        file_error_check(e)
        
def file_answer_and_question4():
    #Мартиненко: функція додає відповідь на запитання студента 3
    #та завершує роботу, оскільки студент 4 є останнім
    try:
        #відкриваємо файл у режимі дописування ('a'), щоб зберегти вже наявний вміст
        with open("team_file.txt", "a", encoding="utf-8") as file:
            #додаємо відповідь на питання студента 3 (Спічакова)
            file.write("Відповідь студента 4 (Мартиненко Олександр):\n")
            file.write("Основні методи читання файлів у Python:\n")
            file.write(" - read() — читає увесь вміст файлу як один рядок;\n")
            file.write(" - readline() — читає по одному рядку за виклик функції;\n")
            file.write(" - readlines() — повертає список рядків файлу;\n")
            file.write("Також файл можна читати через цикл for, що є ефективним та зручним способом обробки великих файлів.\n\n")
            #додаємо фінальний запис
            file.write("Студент 4: Мартиненко Олександр.\n")
            file.write("Я є останнім студентом у проєкті, тому нових питань більше не буде.\n")
            file.write("=== Кінець спільної роботи над файлом ===\n\n")

        print("Студент 4: Відповідь додано. Це завершення роботи — нових питань не буде.")
    except Exception as e:
        #у разі помилки викликаємо функцію обробки виключень
        file_error_check(e)

file_create_and_answer1()
file_answer_and_question2()
file_answer_and_question3()
file_answer_and_question4()
